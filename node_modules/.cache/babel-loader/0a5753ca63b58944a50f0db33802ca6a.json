{"ast":null,"code":"import _slicedToArray from\"C:/Users/wrade/Desktop/shopcart/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{commerce}from'./lib/commerce';// import { Routes, Route } from 'react-router-dom'\nimport'./styles/scss/styles.scss';import Hero from'./Components/Hero';import ProductList from'./Components/ProductList';import CartNav from'./Components/CartNav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),merchant=_useState2[0],setMerchant=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),cart=_useState6[0],setCart=_useState6[1];useEffect(function(){fetchMerchantDetails();fetchProducts();fetchCart();},[]);var fetchMerchantDetails=function fetchMerchantDetails(){commerce.merchants.about().then(function(merchant){setMerchant(merchant);}).catch(function(error){console.log('There was an error fetching the merchant details',error);});};var fetchProducts=function fetchProducts(){commerce.products.list().then(function(products){setProducts(products.data);}).catch(function(error){console.log('There was an error fetching the products',error);});};var fetchCart=function fetchCart(){commerce.cart.retrieve().then(function(cart){setCart(cart);}).catch(function(error){console.log('There was an error fetching the cart',error);});};var handleUpdateCartQty=function handleUpdateCartQty(lineItemId,quantity){commerce.cart.update(lineItemId,{quantity:quantity}).then(function(resp){setCart(resp.cart);}).catch(function(error){console.log('There was an error updating the cart items',error);});};var handleAddToCart=function handleAddToCart(productId,quantity){commerce.cart.add(productId,quantity).then(function(item){setCart(item.cart);}).catch(function(error){console.error('There was an error adding the item to the cart',error);});};var handleRemoveFromCart=function handleRemoveFromCart(lineItemId){commerce.cart.remove(lineItemId).then(function(resp){setCart(resp.cart);}).catch(function(error){console.error('There was an error removing the item from the cart',error);});};var handleEmptyCart=function handleEmptyCart(){commerce.cart.empty().then(function(resp){setCart(resp.cart);}).catch(function(error){console.error('There was an error emptying the cart',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(CartNav,{cart:cart,onUpdateCartQty:handleUpdateCartQty,onRemoveFromCart:handleRemoveFromCart,onEmptyCart:handleEmptyCart}),/*#__PURE__*/_jsx(Hero,{merchant:merchant}),/*#__PURE__*/_jsx(ProductList,{products:products,onAddToCart:handleAddToCart})]});};export default App;","map":{"version":3,"sources":["C:/Users/wrade/Desktop/shopcart/frontend/src/App.js"],"names":["React","useState","useEffect","commerce","Hero","ProductList","CartNav","App","merchant","setMerchant","products","setProducts","cart","setCart","fetchMerchantDetails","fetchProducts","fetchCart","merchants","about","then","catch","error","console","log","list","data","retrieve","handleUpdateCartQty","lineItemId","quantity","update","resp","handleAddToCart","productId","add","item","handleRemoveFromCart","remove","handleEmptyCart","empty"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { commerce } from './lib/commerce';\n// import { Routes, Route } from 'react-router-dom'\n\nimport './styles/scss/styles.scss'\n\nimport Hero from './Components/Hero';\nimport ProductList from './Components/ProductList';\nimport CartNav from './Components/CartNav'\n\nconst App = () => {\n  const [merchant, setMerchant] = useState({})\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState({});\n\n    \n  useEffect(() => {\n    fetchMerchantDetails();\n    fetchProducts();\n    fetchCart();\n \n  }, []);   \n  \n  const fetchMerchantDetails = () => {\n    commerce.merchants.about().then((merchant) => {\n      setMerchant(merchant);\n    }).catch((error) => {\n      console.log('There was an error fetching the merchant details', error)\n    })\n  }\n\n  const fetchProducts = () => {\n    commerce.products.list().then((products) => {\n      setProducts(products.data);\n    }).catch((error) => {\n      console.log('There was an error fetching the products', error)\n    });\n  }\n\n  const fetchCart = () => {\n    commerce.cart.retrieve().then((cart) => {\n      setCart(cart);\n    }).catch((error) => {\n      console.log('There was an error fetching the cart', error);\n    });\n  }\n  const handleUpdateCartQty = (lineItemId, quantity) => {\n    commerce.cart.update(lineItemId, { quantity }).then((resp) => {\n      setCart(resp.cart);\n    }).catch((error) => {\n      console.log('There was an error updating the cart items', error);\n    });\n  }\n\n  const handleAddToCart = (productId, quantity) => {\n    commerce.cart.add(productId, quantity).then((item) => {\n      setCart(item.cart);\n    }).catch((error) => {\n      console.error('There was an error adding the item to the cart', error);\n    });\n  }\n                                       \n  const handleRemoveFromCart = (lineItemId) => {\n    commerce.cart.remove(lineItemId).then((resp) => {\n      setCart(resp.cart);\n    }).catch((error) => {\n      console.error('There was an error removing the item from the cart', error);\n    });\n  }\n \n const handleEmptyCart = () => {\n    commerce.cart.empty().then((resp) => {\n      setCart(resp.cart);\n    }).catch((error) => {\n      console.error('There was an error emptying the cart', error);\n    });\n  }\n\n  \n       return (\n        <div className=\"app\">\n         \n          <CartNav    \n            cart={cart}\n            onUpdateCartQty={handleUpdateCartQty}\n            onRemoveFromCart={handleRemoveFromCart}\n            onEmptyCart={handleEmptyCart}\n          />\n\n           <Hero \n            merchant={merchant}\n            />\n         \n          \n         <ProductList\n            products={products}\n            onAddToCart={handleAddToCart}\n          />\n        </div>\n       )\n     \n   \n     \n    \n    \n  }\n\nexport default App;\n       "]},"metadata":{},"sourceType":"module"}